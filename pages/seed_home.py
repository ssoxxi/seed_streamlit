# =============================================================================
# í™ˆ í˜ì´ì§€ (Home Page) - ì‚¬ìš©ì ì¹œí™” ê°œì„ ì•ˆ
# =============================================================================
from __future__ import annotations

import streamlit as st
from theme import apply_theme  # ì•± theme

# 1) set_page_configëŠ” ê°€ëŠ¥í•œ ìµœìƒë‹¨ì—ì„œ
st.set_page_config(
    page_title="í™ˆ | SEED íŒ€ ìµœì¢… í”„ë¡œì íŠ¸ ê°œìš”",
    layout="wide",
    page_icon="ğŸ "
)

apply_theme()

# (ì„ íƒ) ìƒë‹¨ ì˜ë¦¼ ë°©ì§€ CSS
st.markdown(
    """
    <style>
    div.block-container { padding-top: 3.0rem !important; }
    header[data-testid="stHeader"] { height: 0px !important; }
    </style>
    """,
    unsafe_allow_html=True
)

# =============================================================================
# ì‚¬ì´ë“œë°”: í™˜ì˜ ë©”ì‹œì§€ (placeholderê°€ ì—†ì„ ê²½ìš° fallback)
# =============================================================================
if "sidebar_placeholder" in st.session_state:
    with st.session_state.sidebar_placeholder.container():
        st.header("ğŸ‘‹ í™˜ì˜í•©ë‹ˆë‹¤!")
        st.caption("ì™¼ìª½ ì‚¬ì´ë“œë°”ì—ì„œ í˜ì´ì§€ë¥¼ ì„ íƒí•˜ê±°ë‚˜, ì•„ë˜ â€˜ë¹ ë¥¸ ì‹œì‘â€™ ë²„íŠ¼ì„ ì´ìš©í•˜ì„¸ìš”.")
else:
    with st.sidebar:
        st.header("ğŸ‘‹ í™˜ì˜í•©ë‹ˆë‹¤!")
        st.caption("ì‚¬ì´ë“œë°”ì—ì„œ í˜ì´ì§€ë¥¼ ì„ íƒí•˜ì„¸ìš”.")

# =============================================================================
# íˆì–´ë¡œ ì˜ì—­ (í•œ ì¤„ ìš”ì•½ + ê°€ì¹˜ ì œì•ˆ)
# =============================================================================
st.markdown(
    """
    <div style="margin-top:0.2rem; margin-bottom:0.6rem;">
        <h1 style="margin-bottom:0.2rem;">ğŸŒ± SEED íŒ€ ìµœì¢… í”„ë¡œì íŠ¸</h1>
        <div style="color:#6B7280; font-size:14px; line-height:1.6;">
            ë°©ëŒ€í•œ ìŠ¤íƒ€íŠ¸ì—… ë°ì´í„°ë¥¼ ë¹ ë¥´ê²Œ íƒìƒ‰í•˜ê³ , VC íˆ¬ì ì„±í–¥ì— ë”°ë¥¸ ì „ëµ ì‹œë®¬ë ˆì´ì…˜ìœ¼ë¡œ
            <b>ìš°ì„  ê²€í†  ëŒ€ìƒì„ ì¶”ì²œ</b>í•˜ëŠ” ì˜ì‚¬ê²°ì • ì§€ì› ëŒ€ì‹œë³´ë“œì…ë‹ˆë‹¤.
        </div>
    </div>
    """,
    unsafe_allow_html=True
)

# =============================================================================
# ë¹ ë¥¸ ì‹œì‘(Quick Start)
# =============================================================================
st.divider()
st.subheader("ğŸš€ ë¹ ë¥¸ ì‹œì‘")

# page ì´ë™ í•¨ìˆ˜: Streamlit ë²„ì „ì— ë”°ë¼ page_link / switch_page ë‘˜ ì¤‘ í•˜ë‚˜ ì‚¬ìš©
def go_to(page_path: str):
    # Streamlit ë²„ì „ì— ë”°ë¼ st.switch_pageê°€ ì—†ì„ ìˆ˜ ìˆì–´ try ì²˜ë¦¬
    try:
        st.switch_page(page_path)
    except Exception:
        st.info("í˜„ì¬ í™˜ê²½ì—ì„œ ì¦‰ì‹œ ì´ë™ì´ ì œí•œë©ë‹ˆë‹¤. ì‚¬ì´ë“œë°”ì—ì„œ í˜ì´ì§€ë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”.")

qs1, qs2, qs3 = st.columns([1.2, 1.2, 1.6])
with qs1:
    if hasattr(st, "page_link"):
        st.page_link("pages/screening.py", label="ìŠ¤í¬ë¦¬ë‹ ì‹œì‘", icon="ğŸ“Š")
    else:
        st.button("ğŸ“Š ìŠ¤í¬ë¦¬ë‹ ì‹œì‘", use_container_width=True, on_click=go_to, args=("pages/screening.py",))
with qs2:
    if hasattr(st, "page_link"):
        st.page_link("pages/recommendation.py", label="ì‹œë®¬ë ˆì´ì…˜ ì‹œì‘", icon="ğŸ’°")
    else:
        st.button("ğŸ’° ì‹œë®¬ë ˆì´ì…˜ ì‹œì‘", use_container_width=True, on_click=go_to, args=("pages/recommendation.py",))
with qs3:
    st.caption(
        """
        ê¶Œì¥ ì‚¬ìš© íë¦„:  
        1) **ìŠ¤íƒ€íŠ¸ì—… ìŠ¤í¬ë¦¬ë‹**ì—ì„œ í›„ë³´êµ°ì„ ì¢íŒ ë’¤  
        2) **íˆ¬ì ì „ëµ ì‹œë®¬ë ˆì´ì…˜**ì—ì„œ ì „ëµë³„ ê²°ê³¼(ì„±ê³µë¥ /íšŒìˆ˜ê¸°ê°„/Top10 ì¶”ì²œ)ë¥¼ ë¹„êµí•˜ì„¸ìš”.
        """
    )

# =============================================================================
# ì•± ì†Œê°œ (ì§§ê³  í•µì‹¬ë§Œ)
# =============================================================================
st.divider()
st.subheader("ğŸ“Œ ì´ ì•±ì—ì„œ í•  ìˆ˜ ìˆëŠ” ì¼")
st.markdown(
        """
        <style>
        div[data-testid="stMetric"] label { font-size: 0.80rem !important; }
        div[data-testid="stMetricValue"] { font-size: 1.35rem !important; }
        </style>
        """,
        unsafe_allow_html=True
    )

c1, c2, c3 = st.columns(3)
with c1:
    st.metric("í•µì‹¬ ê¸°ëŠ¥", "2ê°œ", help="ìŠ¤í¬ë¦¬ë‹ + íˆ¬ì ì „ëµ ì‹œë®¬ë ˆì´ì…˜")
with c2:
    st.metric("ì‚¬ìš© ëª©ì ", "í›„ë³´êµ° ë°œêµ´", help="ì´ˆê¸° íˆ¬ì ê²€í†  ë‹¨ê³„ì—ì„œ ë¹ ë¥¸ ì„ ë³„")
with c3:
    st.metric("ê²°ê³¼ë¬¼", "Top10 ì¶”ì²œ", help="ì „ëµë³„ ìš°ì„  ê²€í†  ëŒ€ìƒ ë¦¬ìŠ¤íŠ¸ ì œê³µ")

st.markdown(
    """
- **ë°ì´í„° ë¶„ì„ ê²°ê³¼ ë° ì¸ì‚¬ì´íŠ¸**ë¥¼ ë°”íƒ•ìœ¼ë¡œ, íˆ¬ì ê²€í†  ì‹œ ìì£¼ ì“°ëŠ” ì¡°ê±´(ì‚°ì—…/êµ­ê°€/ë‹¨ê³„ ë“±)ì„ ë¹ ë¥´ê²Œ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
- **ML ê¸°ë°˜ ì˜ˆì¸¡/ì¶”ì²œ ê²°ê³¼**ë¥¼ ì´ìš©í•´ ì „ëµë³„ ì‹œë‚˜ë¦¬ì˜¤ ë¹„êµì™€ ìš°ì„ ìˆœìœ„ ì„¤ì •ì„ ì§€ì›í•©ë‹ˆë‹¤.
"""
)

# =============================================================================
# í˜ì´ì§€ ì†Œê°œ ì¹´ë“œ (ì„¤ëª… + ì•¡ì…˜ ë²„íŠ¼)
# =============================================================================
st.divider()
st.subheader("ğŸ“‘ í˜ì´ì§€ ì†Œê°œ")

col1, col2 = st.columns(2, gap="large")

with col1:
    with st.container(border=True):
        st.markdown("### ğŸ“Š ìŠ¤íƒ€íŠ¸ì—… ìŠ¤í¬ë¦¬ë‹")
        st.markdown(
            """
            **ëª©ì **: íˆ¬ì í›„ë³´êµ° ë°œêµ´ ë° 1ì°¨ í•„í„°ë§  
            **í™œìš© ë°©ë²•**: ê´€ì‹¬ ì¡°ê±´(ì‚°ì—…Â·êµ­ê°€Â·íˆ¬ì ë‹¨ê³„ ë“±)ì„ ì„ íƒ â†’ í›„ì† ê²€í†  ëŒ€ìƒ ë¦¬ìŠ¤íŠ¸ ìë™ ìƒì„±  
            **ê¸°ëŒ€ íš¨ê³¼**: ë°©ëŒ€í•œ ë°ì´í„°ë¥¼ ìˆ˜ì´ˆ ë§Œì— íƒìƒ‰, ì˜ì‚¬ê²°ì • ì¤€ë¹„ ë‹¨ê³„ ë‹¨ì¶• ë° ì‹œì¥ íƒìƒ‰ íš¨ìœ¨ ê°•í™”
            """
        )
        if hasattr(st, "page_link"):
            st.page_link("pages/screening.py", label="ìŠ¤í¬ë¦¬ë‹ í˜ì´ì§€ë¡œ ì´ë™", icon="â¡ï¸")
        else:
            st.button("ìŠ¤í¬ë¦¬ë‹ í˜ì´ì§€ë¡œ ì´ë™", use_container_width=True, on_click=go_to, args=("pages/screening.py",))

with col2:
    with st.container(border=True):
        st.markdown("### ğŸ’° íˆ¬ì ì „ëµ ì‹œë®¬ë ˆì´ì…˜ ë° ì¶”ì²œ")
        st.markdown(
            """
            **ëª©ì **: VC íˆ¬ì ì „ëµì— ë”°ë¥¸ ì˜ˆìƒ ì„±ê³µë¥  ì‹œë®¬ë ˆì´ì…˜ + ì í•© ìŠ¤íƒ€íŠ¸ì—… ì¶”ì²œ  
            **í™œìš© ë°©ë²•**: ì‚°ì—…/íˆ¬ì ë‹¨ê³„/VC íˆ¬ì ì„±í–¥ ì„ íƒ â†’ ì˜ˆìƒ ì„±ê³µë¥ Â·í‰ê·  íšŒìˆ˜ ê¸°ê°„Â·Top10 ì¶”ì²œ í™•ì¸  
            **ê¸°ëŒ€ íš¨ê³¼**: íˆ¬ì ê²€í†  ì†ë„ ë‹¨ì¶•, ì˜ì‚¬ê²°ì • ê·¼ê±° ê°•í™”, ì „ëµë³„ ì‹œë‚˜ë¦¬ì˜¤ ë¹„êµ ë° ìš°ì„ ìˆœìœ„ ì„¤ì •
            """
        )
        if hasattr(st, "page_link"):
            st.page_link("pages/recommendation.py", label="ì‹œë®¬ë ˆì´ì…˜ í˜ì´ì§€ë¡œ ì´ë™", icon="â¡ï¸")
        else:
            st.button("ì‹œë®¬ë ˆì´ì…˜ í˜ì´ì§€ë¡œ ì´ë™", use_container_width=True, on_click=go_to, args=("pages/recommendation.py",))

# =============================================================================
# íŒ€ ì†Œê°œ (ê°€ë…ì„± ê°œì„ : info ë°•ìŠ¤ ëŒ€ì‹  ì»¬ëŸ¼)
# =============================================================================
st.divider()
st.header("ğŸ”„ SEEDíŒ€ ì†Œê°œ")
st.markdown(
            """
            **íŒ€ëª…**: Startup Equity & Exit Dataì˜ ì•½ìë¡œ ìŠ¤íƒ€íŠ¸ì—…ì˜ ì§€ë¶„(Equity)ê³¼ ì—‘ì‹œíŠ¸(Exit) ë°ì´í„°ë¥¼ ë‹¤ë£¨ëŠ” íŒ€ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
            """
        )
names = ["ë°°ìˆ˜ì•„", "í•œì†Œí¬", "í™ì±„ì—°", "í™©ì¬ê·œ"]
st.markdown(
    " ".join([f"<span style='display:inline-block; padding:6px 10px; margin:4px 6px 0 0; border-radius:999px; background:#F3F9FF; border:1px solid rgba(33,150,243,0.18);'>{n}</span>" for n in names]),
    unsafe_allow_html=True
)
st.caption("í”„ë¡œì íŠ¸ ê¸°ê°„: 2025.11.24 ~ 2025.12.30")

# =============================================================================
# ì‹œì‘ ì•ˆë‚´
# =============================================================================
st.divider()
st.success("ì™¼ìª½ ì‚¬ì´ë“œë°” ë˜ëŠ” â€˜ë¹ ë¥¸ ì‹œì‘â€™ ë²„íŠ¼ìœ¼ë¡œ ê¸°ëŠ¥ì„ ì‹œì‘í•˜ì„¸ìš”.")
